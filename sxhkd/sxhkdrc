# Bspwm -----------------------------------------------------------------------
# {{{ Closing/reloading

# Run system command
super + alt + Escape
    dmenu-system

# Close/kill focused window
super + {q,Q}
    [ (bspc query -W | wc -l) = 0 -a (bspc query -D) = 1 ]; and dmenu-system; \
    bspc window --{close,kill}; \
    ~/.config/bspwm/scripts/remove_desktop.sh

# Reload sxhkd config
super + Escape
    pkill -USR1 -x sxhkd

# Refresh panel
super + alt + z
    pkill -x panel; $DOTFILES/panel

# Create (and focus) new desktop
super + {N,n}
    ~/.config/bspwm/scripts/add_desktop.sh; \
    { , bspc desktop "^"(bspc query -D -m focused | wc -l) --focus }

# Toggle compton
super + alt + c
    pkill compton; or compton

# }}}
# {{{ Navigation

# Focus window/desktop
super + {h,j,k,l}
    ~/.config/bspwm/scripts/window-control --focus {left,down,up,right}

# Move window
super + shift + {h,j,k,l}
    ~/.config/bspwm/scripts/window-control --move {left,down,up,right}

# Cycle windows
alt + {Tab,grave}
    bspc window --focus {next,prev}

# Change desktop/Move window to desktop
super + {_,shift + } bracket{left,right}
    bspc {desktop --focus,window --to-desktop } {prev,next}

super + {_,shift + } {1-9}
    bspc {desktop --focus,window --to-desktop } {1-9}

# Focus last window, desktop
super + {grave,Tab}
    bspc {window,desktop} --focus last

# }}}
# {{{ Mouse

~button1
    bspc pointer --grab focus

super + button{1-3}
    bspc pointer --grab focus; \
    bspc pointer --grab {move,resize_side,resize_corner}

super + !button{1-3}
    bspc pointer --track %i %i

super + @button{1-3}
    bspc pointer --ungrab

# }}}
# {{{ Windows

# Toggle layout of desktop
super + t
    bspc desktop --layout next

# Toggle state of window
super + {a,f}
    bspc window --toggle {floating,fullscreen}

# Rarely used states
super + s; {a,s,d,f}
    bspc window --toggle {sticky,locked,private,pseudo_tiled}

# States help
super + s; h
    notify "[A] Sticky [S] Locked [D] Private [F] Pseudo tiled"

super + alt + {h,j,k,l}
    ~/.config/bspwm/scripts/window-control --resize {left,down,up,right}

# Balance size
super + b
    bspc desktop --balance
super + e
    bspc desktop --equalize

# }}}
# {{{ Preselection

# Preselect splitting area
super + ctrl + {h,j,k,l}
    bspc window --presel {left,down,up,right}

# Move window to preselection
super + ctrl + space
    bspc window --to-window last.manual

# }}}
# {{{ Desktops

# Cycle
super + {comma,period}
    bspc desktop --circulate {backward,forward}

# Rotate
super + {r,R}
    bspc desktop --rotate {90,270}

# }}}

# Other -----------------------------------------------------------------------
# {{{ Programs

# URxvt
super + Return
    urxvtc
# Floating URxvt
super + shift + Return
    bspc rule --add URxvt --one-shot floating=on; and urxvtc

# Firefox
super + alt + f
    firefox

# Ranger
super + alt + r
    urxvtc -e ranger

# Spotify
super + alt + m
    spotify

# Steam
super + alt + s
    steam

# Android studio
super + alt + a
    bspc config focus_follows_pointer false; \
    android-studio

# IntelliJ IDEA
super + alt + i
    bspc config focus_follows_pointer false; \
    idea.sh

# }}}
# {{{ Special keys

# Open url / search web
{XF86Search,XF86HomePage,super + w}
    dmenu-web

# Toggle muting
XF86AudioMute
    volume !; \
    notify (volume bar)

# Lower, raise volume
XF86Audio{Lower,Raise}Volume
    volume {-,+}; \
    notify (volume bar)

# Take screenshot
Print
    screen

# Run program
Menu
    dmenu-run

super + space
    dmenu-tmux

# }}}

# {{{ End
# vim: ft=sxhkdrc:commentstring=#\ %s:fdm=marker
