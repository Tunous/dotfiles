# --- TMUX.CONF --------------------------------------------------------
#
# Configuration file for tmux (terminal multiplexer)
# Highly based on z-brah configuration:
# http://git.z3bra.org/cgit.cgi/dotfiles/tree/tmux.conf
#
# ----------------------------------------------------------------------

## PREFIX KEY {{{
    ## Set the prefix key to Ctrl-Space
    unbind-key C-b
    set-option -g   prefix C-Space
    bind-key        C-Space send-prefix
## }}}

## STANDARD OPTIONS {{{
    ## Remove Esc-Wait (makes Vi works)
    set-option -sg  escape-time 0

    ## Show statusline message for longer
    set-option -g   display-time 4000

    ## All kind of options
    set-option -g   history-limit 1024
    set-option -g   bell-action any
    set-option -g   default-terminal screen-256color
    set-option -g   display-panes-colour red
    set-option -g   message-bg default
    set-option -g   message-fg white
    set-option -g   mouse-select-pane off
    set-option -g   set-titles on
    set-option -g   set-titles-string '#W #T'

    set-window-option -g   aggressive-resize on
    set-window-option -g   monitor-activity on
    set-window-option -g   visual-activity on
    set-window-option -g   visual-bell off
    set-window-option -g   automatic-rename on

    ## Detach session
    bind-key d      detach
    bind-key C-d    detach
## }}}

## STATUS BAR {{{
    ## Standard options
    set-option -g   status on
    set-option -g   automatic-rename on
    set-option -g   status-interval 15
    set-option -g   status-utf8 on
    set-option -g   status-justify right
    set-option -g   status-position bottom

    ## Default statusbar colors
    set-option -g   status-fg black
    set-option -g   status-bg default
    set-option -g   status-attr bright

    ## Default window title colors
    set-window-option -g   window-status-fg black
    set-window-option -g   window-status-bg default
    set-window-option -g   window-status-format '•'

    ## Active window title colors
    set-window-option -g   window-status-current-fg blue
    set-window-option -g   window-status-current-bg default
    set-window-option -g   window-status-current-format '•'

    ## Window with activity title colors
    set-window-option -g   window-status-activity-fg yellow
    set-window-option -g   window-status-activity-attr bright

    ## Default pane border color
    set-option -g   pane-border-bg default
    set-option -g   pane-border-fg black

    # Active pane border color
    set-option -g   pane-active-border-bg default
    set-option -g   pane-active-border-fg black

    # Left / Right status
    set-option -g   status-left-length 0
    set-option -g   status-right-length 96
    set-option -g   status-left ""
    set-option -g   status-right ""
## }}}

## KEY MAPPING {{{
    ## Move around windows
    unbind-key c       ; bind-key c     new-window
    unbind-key n       ; bind-key n     next-window
    unbind-key p       ; bind-key p     previous-window
    unbind-key C-Left  ; bind-key -n C-Left  prev
    unbind-key C-Right ; bind-key -n C-Right next
    unbind-key Space   ; bind-key Space last-window

    ## Choose windows
    unbind-key w       ; bind-key w     choose-window
    unbind-key *       ; bind-key *     list-windows

    ## Choose session
    unbind-key S       ; bind-key S     choose-session

    ## Prompts
    unbind-key :       ; bind-key :     command-prompt -p "Tmux:"
    unbind-key m       ; bind-key m     command-prompt -p "Man:" "split-window -h 'man %%'"
    unbind-key A       ; bind-key A     command-prompt -p "Rename window:" "rename-window '%%'"
    unbind-key K       ; bind-key K     confirm-before "kill-window"

    ## Create / Delete panes
    unbind-key |       ; bind-key |     choose-window "join-pane -h -s '%%'"
    unbind-key -       ; bind-key -     choose-window "join-pane -v -s '%%'"
    unbind-key o       ; bind-key o     break-pane
    unbind-key r       ; bind-key r     break-pane -d

    ## Move around panes
    unbind-key Tab     ; bind-key -r Tab    select-pane -t:.+
    unbind-key BTab    ; bind-key -r BTab   select-pane -t:.-
    unbind-key C-h     ; bind-key -r C-h    select-pane -L
    unbind-key C-j     ; bind-key -r C-j    select-pane -D
    unbind-key C-k     ; bind-key -r C-k    select-pane -U
    unbind-key C-l     ; bind-key -r C-l    select-pane -R

    ## Reload config
    unbind-key R       ; bind-key R         source-file "$HOME/.tmux.conf" \; display-message "Configuration reloaded!"

    ## Copy-mode
    set-window-option -g    mode-keys vi
    set-window-option -g    mode-mouse off
    set-option              buffer-limit 10
    unbind-key C-v          ; bind-key C-v      copy-mode
    unbind-key Escape       ; bind-key Escape   copy-mode

    ## VIM-LIKE {{{
        ## Split window
        unbind-key s  ; bind-key s split-window -v
        unbind-key v  ; bind-key v split-window -h

        ## Move around panes with hjkl
        unbind-key h  ; bind-key h select-pane -L
        unbind-key j  ; bind-key j select-pane -D
        unbind-key k  ; bind-key k select-pane -U
        unbind-key l  ; bind-key l select-pane -R

        ## Resize panes
        bind-key -r M-h resize-pane -L 5
        bind-key -r M-j resize-pane -D 5
        bind-key -r M-k resize-pane -U 5
        bind-key -r M-l resize-pane -R 5
    ## }}}
## }}}

# vim:ft=tmux:foldmethod=marker:cms=#\ %s
