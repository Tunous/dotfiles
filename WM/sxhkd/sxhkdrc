# Bspwm -----------------------------------------------------------------------
# {{{ Closing/reloading

# Run system command
super + alt + Escape
    dmenu-action system

# Close/kill focused window
super + {w,W}
    bspc window -{c,k}

# Reload sxhkd config
super + Escape
    pkill -USR1 -x sxhkd

# Refresh panel
super + alt + z
    pkill -x panel && $DOTFILES/WM/panel/panel

# Toggle compton
super + alt + c
    pkill compton || compton

# }}}
# {{{ Navigation

# {{{ Basic

# Focus window/desktop
super + {h,j,k,l}
    w={left;d=prev ,down;d=last ,up;d=last ,right;d=next}; \
    bspc window $w -f || bspc desktop $d -f

# Move window
super + shift + {h,j,k,l}
    w={left; d=prev,down,up,right; d=next}; \
    bspc window $w -w focused.manual || bspc window -w $w.manual || bspc window -s $w || bspc window -d $d -f

# Cycle windows
super + {c,C}
    bspc window -f {next,prev}

# Change desktop/Move window to desktop
super + {_,shift + } bracket{left,right}
    bspc {desktop -f,window -d} {prev,next}

super + {_,shift + } {0-9,ctrl + f}
    bspc {desktop -f, window -d} {0-9,Float}

# }}}
# {{{ History based

# Focus last window, desktop
super + {grave,Tab}
    bspc {window,desktop} -f last

# Swap with last window
super + apostrophe
    bspc window -s last

# Select older/newer window
super + {o,i}
    bspc control --record-history off; \
    bspc window {older,newer} -f; \
    bspc control --record-history on

# }}}

# }}}
# {{{ Mouse

~button1
    bspc pointer -g focus

super + button{1-3}
    bspc pointer -g focus; \
    bspc pointer -g {move,resize_side,resize_corner}

super + !button{1-3}
    bspc pointer -t %i %i

super + @button{1-3}
    bspc pointer -u

super + alt + button{1,2}
    bspc window {-t fullscreen,-c}

# }}}
# {{{ Windows

# Toggle layout of desktop
super + t
    bspc desktop -l next

# Toggle state of window
super + {a,s,d,f,g,q}
    bspc window -t {floating,sticky,locked,fullscreen,private,pseudo_tiled}

# Swap with biggest window
super + m
    bspc window -s biggest

# Resize window
super + alt + {h,j,k,l} + {_,shift}
    { d1=left  d2=right s=-10, \
      d1=down  d2=up    s=+10, \
      d1=up    d2=down  s=-10, \
      d1=right d2=left  s=+10  }; \
    { bspc window -e $d1 $s || bspc window -e $d2 $s }

super + alt + {H,J,K,L}
    bspc window -e {left +10,down -10,up +10,right -10}

# Balance size
super + b
    bspc desktop -B
super + e
    bspc desktop -E

# {{{ Floating

# Move
super + {Left,Right,Up,Down}
    xdo move {-x -20,-x +20,-y -20,-y +20}

# Resize
super + alt + {Left,Right,Up,Down}
   xdo resize {-w -20,-w +20,-h -20, -h +20}

# }}}

# }}}
# {{{ Preselection

# Preselect splitting area
super + ctrl + {h,j,k,l}
    bspc window -p {left,down,up,right}

# Move window to preselection
super + ctrl + space
    bspc window -w last.manual

# Cancel preselection
super + ctrl + shift + space
    bspc desktop -c

# Change window ratio (preselection size)
super + ctrl + {1-9}
    bspc window -r 0.{1-9}

# }}}
# {{{ Desktops

# Resize gaps
super + alt + {minus,equal}
    bspc config -d focused window_gap $(( `bspc config -d focused window_gap` {+,-} 5 ))

super + alt + plus
    bspc config -d focused window_gap 12

# Change padding
super + ctrl + {minus,equal}
    d={+,-}; \
    bspc config -d focused top_padding $(( `bspc config -d focused top_padding` $d 5 )); \
    bspc config -d focused right_padding $(( `bspc config -d focused right_padding` $d 5 )); \
    bspc config -d focused bottom_padding $(( `bspc config -d focused bottom_padding` $d 5 )); \
    bspc config -d focused left_padding $(( `bspc config -d focused left_padding` $d 5 ))

super + ctrl + plus
    bspc config -d focused top_padding 15; \
    bspc config -d focused right_padding 0; \
    bspc config -d focused bottom_padding 0; \
    bspc config -d focused left_padding 0

# Cycle
super + {comma,period}
    bspc desktop -C {backward,forward}

# Rotate
super + {r,R}
    bspc desktop -R {90,270}

# }}}

# Other -----------------------------------------------------------------------
# {{{ Programs

# Urxvt
super + Return
    urxvt
super + shift + Return
    urxvt -name 'URxvtFloating'

# Dmenu
super + space
    dmenu-action

# Firefox
super + alt + f
    firefox

# Ranger
super + alt + r
    urxvt -e ranger

# }}}
# {{{ Special keys

# Search web
XF86Search
    dmenu-action web

# Open url
XF86HomePage
    dmenu-action web

# Toggle mutting
XF86AudioMute
    amixer set Master toggle

# Lower, raise volume
XF86Audio{Lower,Raise}Volume
    amixer set Master 1{-,+}

# Take screenshot
Print
    dmenu-action screen

# Run program
Menu
    dmenu-action run

# }}}

# {{{ End
# vim: ft=sxhkdrc commentstring=#\ %s
